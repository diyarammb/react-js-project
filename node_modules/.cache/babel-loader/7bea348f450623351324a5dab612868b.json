{"ast":null,"code":"import React from 'react';\nconst globals = {\n  cloneObject(obj) {\n    if (null == obj || \"object\" != typeof obj) return obj;\n\n    if (obj instanceof Array) {\n      var copy = [];\n\n      for (var i = 0, len = obj.length; i < len; i++) {\n        copy[i] = this.cloneObject(obj[i]);\n      }\n\n      return copy;\n    }\n\n    if (obj instanceof Object) {\n      var copy2 = {};\n\n      for (var attr in obj) {\n        if (obj.hasOwnProperty(attr)) copy2[attr] = this.cloneObject(obj[attr]);\n      }\n\n      return copy2;\n    }\n\n    return obj;\n  },\n\n  _buildTags: function (item, index, stateData, self, children) {\n    var o = globals.cloneObject(item.propAttr);\n    o.key = o.key || index;\n\n    if (typeof o.render !== 'undefined') {\n      switch (o.render) {\n        case '!ifMobile':\n          if (globals.isMobile) return;\n          break;\n\n        case 'ifMobile':\n          if (!globals.isMobile) return;\n          break;\n\n        default:\n          // true, false, null, undefined, emptyobj, validobj, \"string\"\n          let renderFlag = !this.isEmptyObject(stateData) ? typeof stateData[o.render] === \"boolean\" ? stateData[o.render] === false : this.isEmptyObject(stateData[o.render]) : false;\n\n          if (o.render === false || renderFlag) {\n            return;\n          }\n\n          break;\n      }\n\n      delete o.render;\n    }\n\n    if (o.settings !== undefined) {\n      for (let i in o.settings) {\n        if (o.settings[i].apiKey !== undefined) o[o.settings[i].prop] = this.getDeepObject(stateData, o.settings[i].apiKey);\n\n        if (o.settings[i].funcName !== undefined) {\n          o[o.settings[i].prop] = self[o.settings[i].funcName];\n        }\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(item.component, o, children);\n  },\n\n  getDeepObject(obj, path) {\n    try {\n      path = path.split('.');\n\n      for (var i = 0, len = path.length; i < len; i++) {\n        obj = obj[path[i]];\n      }\n\n      return obj;\n    } catch (e) {\n      return null;\n    }\n  },\n\n  isEmptyObject(obj) {\n    try {\n      if (typeof obj === 'undefined' || obj == null || Object.keys(obj).length === 0) {\n        if (typeof obj === 'Array' && obj.length > 0) {\n          return false;\n        }\n\n        return true;\n      }\n\n      return false;\n    } catch (e) {\n      return true;\n    }\n  },\n\n  _mapRender: function (items, stateData, self, section) {\n    let childRenderFlg = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    let h = [];\n\n    for (let i in items) {\n      if (!this.isEmptyObject(stateData.dynamicWidgets) && !childRenderFlg) {\n        if (i === 0) h = this._handleDynamicWidget(stateData.dynamicWidgets, section, \"before\", self, h);\n        if (items[i].propAttr && items[i].propAttr.adPrefix) h = this._handleDynamicWidget(stateData.dynamicWidgets, items[i].propAttr.adPrefix, \"before\", self, h);\n      }\n\n      if (Array.isArray(items[i].children)) {\n        h.push(globals._buildTags(items[i], i, stateData, self, globals._mapRender(items[i].children, stateData, self, section, true)));\n      } else {\n        h.push(globals._buildTags(items[i], i, stateData, self, items[i].children));\n      }\n\n      if (!this.isEmptyObject(stateData.dynamicWidgets) && !childRenderFlg) {\n        if (items[i].propAttr && !items[i].propAttr.adPrefix) h = this._handleDynamicWidget(stateData.dynamicWidgets, section, stateData.index !== undefined ? stateData.index : i, self, h);\n        if (items[i].propAttr && items[i].propAttr.adPrefix) h = this._handleDynamicWidget(stateData.dynamicWidgets, items[i].propAttr.adPrefix, \"after\", self, h);\n        if (i === items.length - 1) h = this._handleDynamicWidget(stateData.dynamicWidgets, section, \"after\", self, h);\n      }\n    }\n\n    return h;\n  }\n};\nexport default globals;","map":{"version":3,"sources":["D:/grt/src/utils/global.js"],"names":["React","globals","cloneObject","obj","Array","copy","i","len","length","Object","copy2","attr","hasOwnProperty","_buildTags","item","index","stateData","self","children","o","propAttr","key","render","isMobile","renderFlag","isEmptyObject","settings","undefined","apiKey","prop","getDeepObject","funcName","createElement","component","path","split","e","keys","_mapRender","items","section","childRenderFlg","h","dynamicWidgets","_handleDynamicWidget","adPrefix","isArray","push"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,OAAO,GAAG;AACZC,EAAAA,WAAW,CAACC,GAAD,EAAM;AACb,QAAI,QAAQA,GAAR,IAAe,YAAY,OAAOA,GAAtC,EAA2C,OAAOA,GAAP;;AAC3C,QAAIA,GAAG,YAAYC,KAAnB,EAA0B;AACtB,UAAIC,IAAI,GAAG,EAAX;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGJ,GAAG,CAACK,MAA1B,EAAkCF,CAAC,GAAGC,GAAtC,EAA2CD,CAAC,EAA5C,EAAgD;AAC5CD,QAAAA,IAAI,CAACC,CAAD,CAAJ,GAAU,KAAKJ,WAAL,CAAiBC,GAAG,CAACG,CAAD,CAApB,CAAV;AACH;;AACD,aAAOD,IAAP;AACH;;AACD,QAAIF,GAAG,YAAYM,MAAnB,EAA2B;AACvB,UAAIC,KAAK,GAAG,EAAZ;;AACA,WAAK,IAAIC,IAAT,IAAiBR,GAAjB,EAAsB;AAClB,YAAIA,GAAG,CAACS,cAAJ,CAAmBD,IAAnB,CAAJ,EAA8BD,KAAK,CAACC,IAAD,CAAL,GAAc,KAAKT,WAAL,CAAiBC,GAAG,CAACQ,IAAD,CAApB,CAAd;AACjC;;AACD,aAAOD,KAAP;AACH;;AACD,WAAOP,GAAP;AACH,GAlBW;;AAmBZU,EAAAA,UAAU,EAAE,UAAUC,IAAV,EAAgBC,KAAhB,EAAuBC,SAAvB,EAAkCC,IAAlC,EAAwCC,QAAxC,EAAkD;AAC1D,QAAIC,CAAC,GAAGlB,OAAO,CAACC,WAAR,CAAoBY,IAAI,CAACM,QAAzB,CAAR;AACAD,IAAAA,CAAC,CAACE,GAAF,GAAQF,CAAC,CAACE,GAAF,IAASN,KAAjB;;AACA,QAAI,OAAOI,CAAC,CAACG,MAAT,KAAoB,WAAxB,EAAqC;AAEjC,cAAQH,CAAC,CAACG,MAAV;AACI,aAAK,WAAL;AACI,cAAIrB,OAAO,CAACsB,QAAZ,EAAsB;AACtB;;AACJ,aAAK,UAAL;AACI,cAAI,CAACtB,OAAO,CAACsB,QAAb,EAAuB;AACvB;;AACJ;AAAS;AACL,cAAIC,UAAU,GAAG,CAAC,KAAKC,aAAL,CAAmBT,SAAnB,CAAD,GAAkC,OAAOA,SAAS,CAACG,CAAC,CAACG,MAAH,CAAhB,KAA+B,SAA/B,GAA2CN,SAAS,CAACG,CAAC,CAACG,MAAH,CAAT,KAAwB,KAAnE,GAA2E,KAAKG,aAAL,CAAmBT,SAAS,CAACG,CAAC,CAACG,MAAH,CAA5B,CAA7G,GAAwJ,KAAzK;;AACA,cAAKH,CAAC,CAACG,MAAF,KAAa,KAAd,IAAwBE,UAA5B,EAAwC;AACpC;AACH;;AACD;AAZR;;AAcA,aAAOL,CAAC,CAACG,MAAT;AACH;;AAGD,QAAIH,CAAC,CAACO,QAAF,KAAeC,SAAnB,EAA8B;AAC1B,WAAK,IAAIrB,CAAT,IAAca,CAAC,CAACO,QAAhB,EAA0B;AACtB,YAAIP,CAAC,CAACO,QAAF,CAAWpB,CAAX,EAAcsB,MAAd,KAAyBD,SAA7B,EACIR,CAAC,CAACA,CAAC,CAACO,QAAF,CAAWpB,CAAX,EAAcuB,IAAf,CAAD,GAAwB,KAAKC,aAAL,CAAmBd,SAAnB,EAA8BG,CAAC,CAACO,QAAF,CAAWpB,CAAX,EAAcsB,MAA5C,CAAxB;;AACJ,YAAIT,CAAC,CAACO,QAAF,CAAWpB,CAAX,EAAcyB,QAAd,KAA2BJ,SAA/B,EAA0C;AACtCR,UAAAA,CAAC,CAACA,CAAC,CAACO,QAAF,CAAWpB,CAAX,EAAcuB,IAAf,CAAD,GAAwBZ,IAAI,CAACE,CAAC,CAACO,QAAF,CAAWpB,CAAX,EAAcyB,QAAf,CAA5B;AACH;AACJ;AACJ;;AACD,wBAAO/B,KAAK,CAACgC,aAAN,CAAoBlB,IAAI,CAACmB,SAAzB,EAAoCd,CAApC,EAAuCD,QAAvC,CAAP;AAEH,GArDW;;AAsDZY,EAAAA,aAAa,CAAC3B,GAAD,EAAM+B,IAAN,EAAY;AACrB,QAAI;AACAA,MAAAA,IAAI,GAAGA,IAAI,CAACC,KAAL,CAAW,GAAX,CAAP;;AACA,WAAK,IAAI7B,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG2B,IAAI,CAAC1B,MAA3B,EAAmCF,CAAC,GAAGC,GAAvC,EAA4CD,CAAC,EAA7C,EAAiD;AAC7CH,QAAAA,GAAG,GAAGA,GAAG,CAAC+B,IAAI,CAAC5B,CAAD,CAAL,CAAT;AACH;;AACD,aAAOH,GAAP;AACH,KAND,CAME,OAAOiC,CAAP,EAAU;AACR,aAAO,IAAP;AACH;AACJ,GAhEW;;AAiEZX,EAAAA,aAAa,CAACtB,GAAD,EAAM;AACf,QAAI;AACA,UAAI,OAAOA,GAAP,KAAe,WAAf,IAA8BA,GAAG,IAAI,IAArC,IAA6CM,MAAM,CAAC4B,IAAP,CAAYlC,GAAZ,EAAiBK,MAAjB,KAA4B,CAA7E,EAAgF;AAC5E,YAAI,OAAOL,GAAP,KAAe,OAAf,IAA0BA,GAAG,CAACK,MAAJ,GAAa,CAA3C,EAA8C;AAC1C,iBAAO,KAAP;AACH;;AACD,eAAO,IAAP;AACH;;AACD,aAAO,KAAP;AACH,KARD,CAQE,OAAO4B,CAAP,EAAU;AACR,aAAO,IAAP;AACH;AAEJ,GA9EW;;AA+EZE,EAAAA,UAAU,EAAE,UAAUC,KAAV,EAAiBvB,SAAjB,EAA4BC,IAA5B,EAAkCuB,OAAlC,EAAmE;AAAA,QAAxBC,cAAwB,uEAAP,KAAO;AAC3E,QAAIC,CAAC,GAAG,EAAR;;AACA,SAAK,IAAIpC,CAAT,IAAciC,KAAd,EAAqB;AACjB,UAAI,CAAC,KAAKd,aAAL,CAAmBT,SAAS,CAAC2B,cAA7B,CAAD,IAAiD,CAACF,cAAtD,EAAsE;AAClE,YAAInC,CAAC,KAAK,CAAV,EAAaoC,CAAC,GAAI,KAAKE,oBAAL,CAA0B5B,SAAS,CAAC2B,cAApC,EAAoDH,OAApD,EAA6D,QAA7D,EAAuEvB,IAAvE,EAA6EyB,CAA7E,CAAL;AACb,YAAIH,KAAK,CAACjC,CAAD,CAAL,CAASc,QAAT,IAAqBmB,KAAK,CAACjC,CAAD,CAAL,CAASc,QAAT,CAAkByB,QAA3C,EAAqDH,CAAC,GAAI,KAAKE,oBAAL,CAA0B5B,SAAS,CAAC2B,cAApC,EAAoDJ,KAAK,CAACjC,CAAD,CAAL,CAASc,QAAT,CAAkByB,QAAtE,EAAgF,QAAhF,EAA0F5B,IAA1F,EAAgGyB,CAAhG,CAAL;AACxD;;AAED,UAAItC,KAAK,CAAC0C,OAAN,CAAcP,KAAK,CAACjC,CAAD,CAAL,CAASY,QAAvB,CAAJ,EAAsC;AAClCwB,QAAAA,CAAC,CAACK,IAAF,CAAO9C,OAAO,CAACY,UAAR,CAAmB0B,KAAK,CAACjC,CAAD,CAAxB,EAA6BA,CAA7B,EAAgCU,SAAhC,EAA2CC,IAA3C,EAAiDhB,OAAO,CAACqC,UAAR,CAAmBC,KAAK,CAACjC,CAAD,CAAL,CAASY,QAA5B,EAAsCF,SAAtC,EAAiDC,IAAjD,EAAuDuB,OAAvD,EAAgE,IAAhE,CAAjD,CAAP;AACH,OAFD,MAEO;AACHE,QAAAA,CAAC,CAACK,IAAF,CAAO9C,OAAO,CAACY,UAAR,CAAmB0B,KAAK,CAACjC,CAAD,CAAxB,EAA6BA,CAA7B,EAAgCU,SAAhC,EAA2CC,IAA3C,EAAiDsB,KAAK,CAACjC,CAAD,CAAL,CAASY,QAA1D,CAAP;AACH;;AAED,UAAI,CAAC,KAAKO,aAAL,CAAmBT,SAAS,CAAC2B,cAA7B,CAAD,IAAiD,CAACF,cAAtD,EAAsE;AAClE,YAAIF,KAAK,CAACjC,CAAD,CAAL,CAASc,QAAT,IAAqB,CAACmB,KAAK,CAACjC,CAAD,CAAL,CAASc,QAAT,CAAkByB,QAA5C,EAAsDH,CAAC,GAAI,KAAKE,oBAAL,CAA0B5B,SAAS,CAAC2B,cAApC,EAAoDH,OAApD,EAA6DxB,SAAS,CAACD,KAAV,KAAoBY,SAApB,GAAgCX,SAAS,CAACD,KAA1C,GAAkDT,CAA/G,EAAkHW,IAAlH,EAAwHyB,CAAxH,CAAL;AACtD,YAAIH,KAAK,CAACjC,CAAD,CAAL,CAASc,QAAT,IAAqBmB,KAAK,CAACjC,CAAD,CAAL,CAASc,QAAT,CAAkByB,QAA3C,EAAqDH,CAAC,GAAI,KAAKE,oBAAL,CAA0B5B,SAAS,CAAC2B,cAApC,EAAoDJ,KAAK,CAACjC,CAAD,CAAL,CAASc,QAAT,CAAkByB,QAAtE,EAAgF,OAAhF,EAAyF5B,IAAzF,EAA+FyB,CAA/F,CAAL;AACrD,YAAIpC,CAAC,KAAKiC,KAAK,CAAC/B,MAAN,GAAe,CAAzB,EAA4BkC,CAAC,GAAI,KAAKE,oBAAL,CAA0B5B,SAAS,CAAC2B,cAApC,EAAoDH,OAApD,EAA6D,OAA7D,EAAsEvB,IAAtE,EAA4EyB,CAA5E,CAAL;AAC/B;AACJ;;AACD,WAAOA,CAAP;AAEH;AArGW,CAAhB;AAuGA,eAAezC,OAAf","sourcesContent":["import React from 'react';\nconst globals = {\n    cloneObject(obj) {\n        if (null == obj || \"object\" != typeof obj) return obj;\n        if (obj instanceof Array) {\n            var copy = [];\n            for (var i = 0, len = obj.length; i < len; i++) {\n                copy[i] = this.cloneObject(obj[i]);\n            }\n            return copy;\n        }\n        if (obj instanceof Object) {\n            var copy2 = {};\n            for (var attr in obj) {\n                if (obj.hasOwnProperty(attr)) copy2[attr] = this.cloneObject(obj[attr]);\n            }\n            return copy2;\n        }\n        return obj;\n    },\n    _buildTags: function (item, index, stateData, self, children) {\n        var o = globals.cloneObject(item.propAttr);\n        o.key = o.key || index;\n        if (typeof o.render !== 'undefined') {\n\n            switch (o.render) {\n                case '!ifMobile':\n                    if (globals.isMobile) return;\n                    break;\n                case 'ifMobile':\n                    if (!globals.isMobile) return;\n                    break;\n                default: // true, false, null, undefined, emptyobj, validobj, \"string\"\n                    let renderFlag = !this.isEmptyObject(stateData) ? (typeof stateData[o.render] === \"boolean\" ? stateData[o.render] === false : this.isEmptyObject(stateData[o.render])) : false;\n                    if ((o.render === false) || renderFlag) {\n                        return;\n                    }\n                    break;\n            }\n            delete o.render;\n        }\n\n\n        if (o.settings !== undefined) {\n            for (let i in o.settings) {\n                if (o.settings[i].apiKey !== undefined)\n                    o[o.settings[i].prop] = this.getDeepObject(stateData, o.settings[i].apiKey);\n                if (o.settings[i].funcName !== undefined) {\n                    o[o.settings[i].prop] = self[o.settings[i].funcName];\n                }\n            }\n        }\n        return React.createElement(item.component, o, children);\n\n    },\n    getDeepObject(obj, path) {\n        try {\n            path = path.split('.')\n            for (var i = 0, len = path.length; i < len; i++) {\n                obj = obj[path[i]];\n            }\n            return obj;\n        } catch (e) {\n            return null;\n        }\n    },\n    isEmptyObject(obj) {\n        try {\n            if (typeof obj === 'undefined' || obj == null || Object.keys(obj).length === 0) {\n                if (typeof obj === 'Array' && obj.length > 0) {\n                    return false;\n                }\n                return true;\n            }\n            return false;\n        } catch (e) {\n            return true;\n        }\n\n    },\n    _mapRender: function (items, stateData, self, section, childRenderFlg = false) {\n        let h = [];\n        for (let i in items) {\n            if (!this.isEmptyObject(stateData.dynamicWidgets) && !childRenderFlg) {\n                if (i === 0) h = (this._handleDynamicWidget(stateData.dynamicWidgets, section, \"before\", self, h));\n                if (items[i].propAttr && items[i].propAttr.adPrefix) h = (this._handleDynamicWidget(stateData.dynamicWidgets, items[i].propAttr.adPrefix, \"before\", self, h));\n            }\n\n            if (Array.isArray(items[i].children)) {\n                h.push(globals._buildTags(items[i], i, stateData, self, globals._mapRender(items[i].children, stateData, self, section, true)));\n            } else {\n                h.push(globals._buildTags(items[i], i, stateData, self, items[i].children));\n            }\n\n            if (!this.isEmptyObject(stateData.dynamicWidgets) && !childRenderFlg) {\n                if (items[i].propAttr && !items[i].propAttr.adPrefix) h = (this._handleDynamicWidget(stateData.dynamicWidgets, section, stateData.index !== undefined ? stateData.index : i, self, h));\n                if (items[i].propAttr && items[i].propAttr.adPrefix) h = (this._handleDynamicWidget(stateData.dynamicWidgets, items[i].propAttr.adPrefix, \"after\", self, h));\n                if (i === items.length - 1) h = (this._handleDynamicWidget(stateData.dynamicWidgets, section, \"after\", self, h));\n            }\n        }\n        return h;\n\n    }\n}\nexport default globals;"]},"metadata":{},"sourceType":"module"}